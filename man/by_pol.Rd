% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dashboard.R
\name{by_pol}
\alias{by_pol}
\title{Generate Bar Chart of Means by Political Category}
\usage{
by_pol(
  data,
  var1,
  var2,
  thevarlabs,
  thelabel = "<- 1: never     -     7: very often ->"
)
}
\arguments{
\item{data}{A data frame. Must include a \code{pol_cat} (political category) column.}

\item{var1}{The starting variable name (unquoted).}

\item{var2}{The ending variable name (unquoted).}

\item{thevarlabs}{A character vector of labels for the variables.}

\item{thelabel}{A character string for the y-axis label.
Defaults to "<- 1: never     -     7: very often ->".}
}
\value{
A \code{highchart} object.
}
\description{
This function produces a grouped bar chart showing the means of
specified variables, broken down by political category (\code{pol_cat}).
Error bars (standard errors) are included.
}
\details{
Steps:
1. Maps variable names to \code{thevarlabs}.
2. Converts \code{pol_cat} to labels (using \code{sjmisc::to_label}).
3. Selects \code{var1:var2} and \code{pol_cat}, then removes NAs.
4. Calculates mean, SE, and N for each variable, grouped by \code{pol_cat}.
5. Joins variable labels, orders them by global \code{theorder}, and relevels \code{pol_cat}.
6. Generates a grouped column chart using \code{highcharter}:
- Columns are means per political category within each variable.
- Error bars (mean +/- SE) are linked.
- Y-axis is 1-7.
- Legend for political categories is shown.
- Caption includes N, error bar details, and a note on \code{pol_cat} definition.
}
\examples{
# Assuming 'survey_data' has 'q1'-'q5', 'pol_cat',
# and 'var_labels' for 'q1'-'q5'. `theorder` should exist.
# by_pol(survey_data, q1, q5, var_labels)

Dependencies: dplyr, tidyr, highcharter, forcats, sjmisc
              (Note: `std.error` function defined elsewhere; `theorder` global variable)
}
