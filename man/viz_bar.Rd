% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/viz_bar.R
\name{viz_bar}
\alias{viz_bar}
\title{Create Bar Chart}
\usage{
viz_bar(
  data,
  x_var,
  group_var = NULL,
  value_var = NULL,
  title = NULL,
  subtitle = NULL,
  x_label = NULL,
  y_label = NULL,
  horizontal = FALSE,
  bar_type = "count",
  color_palette = NULL,
  group_order = NULL,
  x_order = NULL,
  sort_by_value = FALSE,
  sort_desc = TRUE,
  x_breaks = NULL,
  x_bin_labels = NULL,
  include_na = FALSE,
  na_label = "(Missing)",
  weight_var = NULL,
  error_bars = "none",
  ci_level = 0.95,
  error_bar_color = "black",
  error_bar_width = 50,
  tooltip = NULL,
  tooltip_prefix = "",
  tooltip_suffix = "",
  x_tooltip_suffix = "",
  data_labels_enabled = TRUE,
  label_decimals = NULL,
  complete_groups = TRUE,
  y_var = NULL
)
}
\arguments{
\item{data}{A data frame containing the survey data.}

\item{x_var}{Character string. Name of the categorical variable for the x-axis.}

\item{group_var}{Optional character string. Name of grouping variable to create separate bars
(e.g., score ranges, categories). Creates grouped/clustered bars.}

\item{value_var}{Optional character string. Name of a numeric variable to aggregate.
When provided, bars show the mean of this variable per category (instead of counts).
Required for error bars with "sd", "se", or "ci".}

\item{title}{Optional main title for the chart.}

\item{subtitle}{Optional subtitle for the chart.}

\item{x_label}{Optional label for the x-axis. Defaults to \code{x_var} name.}

\item{y_label}{Optional label for the y-axis.}

\item{horizontal}{Logical. If \code{TRUE}, creates horizontal bars. Defaults to \code{FALSE}.}

\item{bar_type}{Character string. Type of bar chart: "count", "percent", or "mean".
Defaults to "count". When \code{value_var} is provided, automatically switches to "mean".}

\item{color_palette}{Optional character vector of colors for the bars.}

\item{group_order}{Optional character vector specifying the order of groups (for \code{group_var}).}

\item{x_order}{Optional character vector specifying the order of x categories.}

\item{sort_by_value}{Logical. If \code{TRUE}, sort categories by their value (highest on top for horizontal bars).}

\item{sort_desc}{Logical. If \code{sort_by_value = TRUE}, sort descending (default) or ascending.}

\item{x_breaks}{Optional numeric vector for binning continuous x variables.}

\item{x_bin_labels}{Optional character vector of labels for x bins.}

\item{include_na}{Logical. Whether to include NA values as a separate category. Defaults to \code{FALSE}.}

\item{na_label}{Character string. Label for NA category if \code{include_na = TRUE}. Defaults to "(Missing)".}

\item{weight_var}{Optional character string. Name of a weight variable to use for weighted
aggregation. When provided, counts are computed as the sum of weights instead of simple counts.}

\item{error_bars}{Character string. Type of error bars to display: "none" (default), "sd"
(standard deviation), "se" (standard error), or "ci" (confidence interval).
Requires \code{value_var} to be specified.}

\item{ci_level}{Numeric. Confidence level for confidence intervals. Defaults to 0.95 (95\% CI).
Only used when \code{error_bars = "ci"}.}

\item{error_bar_color}{Character string. Color for error bars. Defaults to "black".}

\item{error_bar_width}{Numeric. Width of error bar whiskers as percentage (0-100). Defaults to 50.}

\item{tooltip}{A tooltip configuration created with \code{\link{tooltip}()},
OR a format string with \{placeholders\}. Available placeholders:
\code{\{category\}}, \code{\{value\}}, \code{\{percent\}}, \code{\{series\}}.
For simple cases, use \code{tooltip_prefix} and \code{tooltip_suffix} instead.
See \code{\link{tooltip}} for full customization options.}

\item{tooltip_prefix}{Optional string prepended to tooltip values (simple customization).}

\item{tooltip_suffix}{Optional string appended to tooltip values (simple customization).}

\item{x_tooltip_suffix}{Optional string appended to x-axis category in tooltips.}

\item{data_labels_enabled}{Logical. If TRUE, show value labels on bars.
Default TRUE.}

\item{label_decimals}{Optional integer. Number of decimal places for data labels.
When NULL (default), uses smart defaults: 0 for counts/percent, 1 for means.
Set explicitly to override (e.g., \code{label_decimals = 2} for two decimal places).}

\item{complete_groups}{Logical. When TRUE (default), ensures all x_var/group_var
combinations are present in the output, filling missing combinations with 0.
This prevents bar misalignment when some groups have no observations for
certain categories. Set to FALSE to show only observed combinations.
Only applies when \code{group_var} is specified.}

\item{y_var}{Optional character string. Name of a column containing pre-aggregated
counts or values. When provided, skips aggregation and uses these values directly.
Useful when working with already-aggregated data (e.g., Column 1: Group, Column 2: Count).}
}
\value{
A highcharter plot object.
}
\description{
Creates horizontal or vertical bar charts showing counts, percentages, or means.
Supports simple bars or grouped bars (when \code{group_var} is provided).
Can display error bars (standard deviation, standard error, or confidence intervals)
when showing means via \code{value_var}.
}
\examples{
\dontrun{
# Simple bar chart showing counts (default)
plot1 <- viz_bar(
  data = survey_data,
  x_var = "category"
)
plot1

# Horizontal bars with percentages
plot2 <- viz_bar(
  data = survey_data,
  x_var = "category",
  horizontal = TRUE,
  bar_type = "percent"
)
plot2

# Grouped bars
plot3 <- viz_bar(
  data = survey_data,
  x_var = "question",
  group_var = "score_range",
  color_palette = c("#D2691E", "#4682B4", "#228B22"),
  group_order = c("Low (1-9)", "Middle (10-19)", "High (20-29)")
)
plot3
}

# Bar chart with means and error bars (95\% CI)
plot4 <- viz_bar(
  data = mtcars,
  x_var = "cyl",
  value_var = "mpg",
  error_bars = "ci",
  title = "Mean MPG by Cylinders",
  y_label = "Miles per Gallon"
)
plot4

# Grouped means with standard error bars
plot5 <- viz_bar(
  data = mtcars,
  x_var = "cyl",
  group_var = "am",
  value_var = "mpg",
  error_bars = "se",
  title = "Mean MPG by Cylinders and Transmission"
)
plot5

}
