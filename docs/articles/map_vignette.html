<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating Maps with viz_map() ‚Ä¢ dashboardr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Inter-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Creating Maps with viz_map()">
<style>
/* Navbar logo */
.navbar-brand img {
  max-height: 30px;
  width: auto;
  object-fit: contain;
}
/* Home page logo - limit size */
.page-header .logo {
  max-width: 150px;
  height: auto;
}
/* Also target the img in the README content */
#dashboardr- img[src*="logo"] {
  max-width: 150px;
  height: auto;
  float: right;
  margin-left: 20px;
}
</style>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dashboardr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">üöÄ Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>üìñ Core Concepts</h6></li>
    <li><a class="dropdown-item" href="../articles/content-collections.html">- Content</a></li>
    <li><a class="dropdown-item" href="../articles/pages.html">- Pages</a></li>
    <li><a class="dropdown-item" href="../articles/dashboards.html">- Dashboards</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/advanced-features.html">‚öôÔ∏è Advanced Features</a></li>
    <li><a class="dropdown-item" href="../articles/publishing_dashboards.html">üåê Publishing Dashboards</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>üìä Visualization Types</h6></li>
    <li><a class="dropdown-item" href="../articles/bar_vignette.html">- Bar Charts</a></li>
    <li><a class="dropdown-item" href="../articles/timeline_vignette.html">- Timelines</a></li>
    <li><a class="dropdown-item" href="../articles/stackedbar_vignette.html">- Stacked Bars</a></li>
    <li><a class="dropdown-item" href="../articles/stackedbars_vignette.html">- Stacked Bars (Multiple)</a></li>
    <li><a class="dropdown-item" href="../articles/heatmap_vignette.html">- Heatmaps</a></li>
    <li><a class="dropdown-item" href="../articles/histogram_vignette.html">- Histograms</a></li>
    <li><a class="dropdown-item" href="../articles/scatter_vignette.html">- Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/treemap_vignette.html">- Treemaps</a></li>
    <li><a class="dropdown-item" href="../articles/map_vignette.html">- Maps</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown--live-demos" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">üéØ Live Demos</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown--live-demos">
<li><a class="dropdown-item" href="../articles/demos.html">üìö About the Demos</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../live-demos/tutorial/docs/index.html">üéì Tutorial Dashboard</a></li>
    <li><a class="dropdown-item" href="../live-demos/showcase/docs/index.html">üöÄ Showcase Dashboard</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creating Maps with viz_map()</h1>
            
      

      <div class="d-none name"><code>map_vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code><a href="../reference/viz_map.html">viz_map()</a></code> function creates choropleth maps -
geographic maps where regions are colored by data values. They‚Äôre
perfect for showing how metrics vary across countries, states, or other
geographic areas.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://favstats.github.io/dashboardr/">dashboardr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>Important</strong>: Maps require data with geographic
identifiers (ISO country codes, state abbreviations, etc.). Unlike other
visualizations, maps typically can‚Äôt use GSS data directly since GSS
regions don‚Äôt map to standard geographic codes. The examples below use
hypothetical geographic datasets.</p>
</div>
<div class="section level2">
<h2 id="basic-world-map">Basic World Map<a class="anchor" aria-label="anchor" href="#basic-world-map"></a>
</h2>
<div class="section level3">
<h3 id="country-level-data">Country-Level Data<a class="anchor" aria-label="anchor" href="#country-level-data"></a>
</h3>
<p>Your data needs a column with geographic codes that match the
map:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sample country data</span></span>
<span><span class="va">country_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  country_code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USA"</span>, <span class="st">"GBR"</span>, <span class="st">"DEU"</span>, <span class="st">"FRA"</span>, <span class="st">"JPN"</span>, <span class="st">"CHN"</span>, <span class="st">"BRA"</span>, <span class="st">"AUS"</span><span class="op">)</span>,</span>
<span>  happiness_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7.0</span>, <span class="fl">7.2</span>, <span class="fl">6.9</span>, <span class="fl">6.5</span>, <span class="fl">5.9</span>, <span class="fl">5.1</span>, <span class="fl">6.3</span>, <span class="fl">7.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">country_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"country_code"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"happiness_score"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"custom/world"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Happiness Score by Country"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="color-gradients">Color Gradients<a class="anchor" aria-label="anchor" href="#color-gradients"></a>
</h3>
<p>Control the color scale with <code>color_palette</code> - provide low
and high colors:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">country_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"country_code"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"happiness_score"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"custom/world"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Happiness Score"</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FEE5D9"</span>, <span class="st">"#A50F15"</span><span class="op">)</span>  <span class="co"># Light to dark red</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="us-state-maps">US State Maps<a class="anchor" aria-label="anchor" href="#us-state-maps"></a>
</h2>
<div class="section level3">
<h3 id="state-level-data">State-Level Data<a class="anchor" aria-label="anchor" href="#state-level-data"></a>
</h3>
<p>Use state abbreviations or FIPS codes:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># State data with abbreviations</span></span>
<span><span class="va">state_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span>, <span class="st">"PA"</span>, <span class="st">"IL"</span>, <span class="st">"OH"</span>, <span class="st">"GA"</span>, <span class="st">"NC"</span>, <span class="st">"MI"</span><span class="op">)</span>,</span>
<span>  population_millions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">39.5</span>, <span class="fl">29.1</span>, <span class="fl">21.5</span>, <span class="fl">20.2</span>, <span class="fl">13.0</span>, <span class="fl">12.8</span>, <span class="fl">11.8</span>, <span class="fl">10.7</span>, <span class="fl">10.4</span>, <span class="fl">10.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">state_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"population_millions"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"US Population by State"</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#EBF5FB"</span>, <span class="st">"#1A5276"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="labels-and-tooltips">Labels and Tooltips<a class="anchor" aria-label="anchor" href="#labels-and-tooltips"></a>
</h2>
<div class="section level3">
<h3 id="basic-tooltips">Basic Tooltips<a class="anchor" aria-label="anchor" href="#basic-tooltips"></a>
</h3>
<p>By default, maps show the region name and value on hover. Add more
columns to the tooltip with <code>tooltip_vars</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state_detailed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">80</span>, <span class="fl">60</span>, <span class="fl">90</span><span class="op">)</span>,</span>
<span>  growth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.1</span>, <span class="fl">3.5</span>, <span class="fl">2.8</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"California"</span>, <span class="st">"Texas"</span>, <span class="st">"Florida"</span>, <span class="st">"New York"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">state_detailed</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>  tooltip_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"label"</span>, <span class="st">"value"</span>, <span class="st">"growth"</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"State Metrics"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tooltip-parameters">Tooltip Parameters<a class="anchor" aria-label="anchor" href="#tooltip-parameters"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="39%">
<col width="27%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>tooltip_vars</code></td>
<td>Columns to include in tooltip</td>
<td><code>c("name", "value", "change")</code></td>
</tr>
<tr class="even">
<td><code>tooltip_prefix</code></td>
<td>Text before main value</td>
<td>
<code>"$"</code>, <code>"Score: "</code>
</td>
</tr>
<tr class="odd">
<td><code>tooltip_suffix</code></td>
<td>Text after main value</td>
<td>
<code>"%"</code>, <code>" million"</code>
</td>
</tr>
<tr class="even">
<td><code>value_label</code></td>
<td>Label for the legend</td>
<td>
<code>"Population"</code>, <code>"Score"</code>
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">state_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"population_millions"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"US Population"</span>,</span>
<span>  value_label <span class="op">=</span> <span class="st">"Population (millions)"</span>,</span>
<span>  tooltip_suffix <span class="op">=</span> <span class="st">" million people"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="european-maps">European Maps<a class="anchor" aria-label="anchor" href="#european-maps"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">european_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DE"</span>, <span class="st">"FR"</span>, <span class="st">"GB"</span>, <span class="st">"IT"</span>, <span class="st">"ES"</span>, <span class="st">"PL"</span>, <span class="st">"NL"</span>, <span class="st">"BE"</span><span class="op">)</span>,</span>
<span>  gdp_per_capita <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">46000</span>, <span class="fl">40000</span>, <span class="fl">42000</span>, <span class="fl">32000</span>, <span class="fl">27000</span>, <span class="fl">15000</span>, <span class="fl">52000</span>, <span class="fl">45000</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">european_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"gdp_per_capita"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"custom/europe"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"GDP per Capita in Europe"</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#F7FCB9"</span>, <span class="st">"#31A354"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="map-types-reference">Map Types Reference<a class="anchor" aria-label="anchor" href="#map-types-reference"></a>
</h2>
<table class="table">
<colgroup>
<col width="28%">
<col width="28%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th>Map Type</th>
<th>Coverage</th>
<th>Join Variable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"custom/world"</code></td>
<td>All countries</td>
<td>ISO 3166-1 alpha-3 (USA, GBR, DEU)</td>
</tr>
<tr class="even">
<td><code>"countries/us/us-all"</code></td>
<td>US states</td>
<td>State abbreviations (CA, TX, NY)</td>
</tr>
<tr class="odd">
<td><code>"custom/europe"</code></td>
<td>European countries</td>
<td>ISO 3166-1 alpha-2 (DE, FR, GB)</td>
</tr>
<tr class="even">
<td><code>"countries/us/custom/world"</code></td>
<td>World regions</td>
<td>Various codes</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="real-world-examples">Real-World Examples<a class="anchor" aria-label="anchor" href="#real-world-examples"></a>
</h2>
<div class="section level3">
<h3 id="survey-response-rates-by-state">Survey Response Rates by State<a class="anchor" aria-label="anchor" href="#survey-response-rates-by-state"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">response_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span>, <span class="st">"PA"</span>, <span class="st">"IL"</span>, <span class="st">"OH"</span>, <span class="st">"GA"</span>, <span class="st">"NC"</span>, <span class="st">"MI"</span>,</span>
<span>            <span class="st">"NJ"</span>, <span class="st">"VA"</span>, <span class="st">"WA"</span>, <span class="st">"AZ"</span>, <span class="st">"MA"</span>, <span class="st">"TN"</span>, <span class="st">"IN"</span>, <span class="st">"MO"</span>, <span class="st">"MD"</span>, <span class="st">"WI"</span><span class="op">)</span>,</span>
<span>  response_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">38</span>, <span class="fl">42</span>, <span class="fl">51</span>, <span class="fl">44</span>, <span class="fl">47</span>, <span class="fl">39</span>, <span class="fl">35</span>, <span class="fl">41</span>, <span class="fl">43</span>,</span>
<span>                    <span class="fl">48</span>, <span class="fl">46</span>, <span class="fl">52</span>, <span class="fl">37</span>, <span class="fl">55</span>, <span class="fl">36</span>, <span class="fl">40</span>, <span class="fl">38</span>, <span class="fl">49</span>, <span class="fl">44</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">response_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"response_rate"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Survey Response Rate by State (%)"</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FFEDA0"</span>, <span class="st">"#BD0026"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="global-satisfaction-scores">Global Satisfaction Scores<a class="anchor" aria-label="anchor" href="#global-satisfaction-scores"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">global_survey</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USA"</span>, <span class="st">"CAN"</span>, <span class="st">"MEX"</span>, <span class="st">"GBR"</span>, <span class="st">"DEU"</span>, <span class="st">"FRA"</span>, <span class="st">"JPN"</span>, <span class="st">"AUS"</span>, <span class="st">"BRA"</span>, <span class="st">"IND"</span><span class="op">)</span>,</span>
<span>  satisfaction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7.2</span>, <span class="fl">7.5</span>, <span class="fl">6.8</span>, <span class="fl">7.1</span>, <span class="fl">6.9</span>, <span class="fl">6.5</span>, <span class="fl">6.2</span>, <span class="fl">7.4</span>, <span class="fl">6.6</span>, <span class="fl">5.8</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">global_survey</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"satisfaction"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"custom/world"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Customer Satisfaction by Country"</span>,</span>
<span>  color_palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FEE8C8"</span>, <span class="st">"#E34A33"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-with-create_content">Using with create_content()<a class="anchor" aria-label="anchor" href="#using-with-create_content"></a>
</h2>
<div class="section level3">
<h3 id="basic-integration">Basic Integration<a class="anchor" aria-label="anchor" href="#basic-integration"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_content.html">create_content</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">state_data</span>, type <span class="op">=</span> <span class="st">"map"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_viz.html">add_viz</a></span><span class="op">(</span></span>
<span>    join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>    value_var <span class="op">=</span> <span class="st">"population_millions"</span>,</span>
<span>    map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Population Distribution"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">content</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/preview.html">preview</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-maps-with-different-metrics">Multiple Maps with Different Metrics<a class="anchor" aria-label="anchor" href="#multiple-maps-with-different-metrics"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_metric</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span>, <span class="st">"PA"</span><span class="op">)</span>,</span>
<span>  population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">39.5</span>, <span class="fl">29.1</span>, <span class="fl">21.5</span>, <span class="fl">20.2</span>, <span class="fl">13.0</span><span class="op">)</span>,</span>
<span>  income <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">75000</span>, <span class="fl">60000</span>, <span class="fl">55000</span>, <span class="fl">70000</span>, <span class="fl">58000</span><span class="op">)</span>,</span>
<span>  satisfaction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7.2</span>, <span class="fl">6.8</span>, <span class="fl">7.0</span>, <span class="fl">6.5</span>, <span class="fl">6.9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">content</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_content.html">create_content</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">multi_metric</span>, type <span class="op">=</span> <span class="st">"map"</span>, map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_viz.html">add_viz</a></span><span class="op">(</span></span>
<span>    join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>    value_var <span class="op">=</span> <span class="st">"population"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Population"</span>,</span>
<span>    tabgroup <span class="op">=</span> <span class="st">"Metrics"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_viz.html">add_viz</a></span><span class="op">(</span></span>
<span>    join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>    value_var <span class="op">=</span> <span class="st">"income"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Median Income"</span>,</span>
<span>    tabgroup <span class="op">=</span> <span class="st">"Metrics"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_viz.html">add_viz</a></span><span class="op">(</span></span>
<span>    join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>    value_var <span class="op">=</span> <span class="st">"satisfaction"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Satisfaction"</span>,</span>
<span>    tabgroup <span class="op">=</span> <span class="st">"Metrics"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="data-preparation-tips">Data Preparation Tips<a class="anchor" aria-label="anchor" href="#data-preparation-tips"></a>
</h2>
<div class="section level3">
<h3 id="finding-the-right-codes">Finding the Right Codes<a class="anchor" aria-label="anchor" href="#finding-the-right-codes"></a>
</h3>
<p>Maps use standardized geographic codes. Common formats:</p>
<table class="table">
<thead><tr class="header">
<th>Region Type</th>
<th>Code Format</th>
<th>Examples</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Countries (world)</td>
<td>ISO 3166-1 alpha-3</td>
<td>USA, GBR, DEU, FRA</td>
</tr>
<tr class="even">
<td>Countries (Europe)</td>
<td>ISO 3166-1 alpha-2</td>
<td>US, GB, DE, FR</td>
</tr>
<tr class="odd">
<td>US States</td>
<td>USPS abbreviations</td>
<td>CA, TX, NY, FL</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="handling-missing-regions">Handling Missing Regions<a class="anchor" aria-label="anchor" href="#handling-missing-regions"></a>
</h3>
<p>Regions without data appear in a neutral color:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only 5 states - others will be gray</span></span>
<span><span class="va">partial_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span>, <span class="st">"FL"</span>, <span class="st">"NY"</span>, <span class="st">"WA"</span><span class="op">)</span>,</span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">90</span>, <span class="fl">85</span>, <span class="fl">95</span>, <span class="fl">80</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/viz_map.html">viz_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">partial_data</span>,</span>
<span>  join_var <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  value_var <span class="op">=</span> <span class="st">"metric"</span>,</span>
<span>  map_type <span class="op">=</span> <span class="st">"countries/us/us-all"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Partial Coverage Map"</span>,</span>
<span>  null_color <span class="op">=</span> <span class="st">"#EEEEEE"</span>  <span class="co"># Color for missing regions</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="when-to-use-maps">When to Use Maps<a class="anchor" aria-label="anchor" href="#when-to-use-maps"></a>
</h2>
<p><strong>Use maps when:</strong> - Showing geographic patterns -
Regional comparisons are important - Audience thinks spatially about the
data - Location context adds meaning</p>
<p><strong>Use bar charts instead when:</strong> - Precise comparisons
matter more than geography - Data isn‚Äôt inherently geographic - You have
many small regions (hard to see)</p>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<code><a href="../reference/viz_map.html">?viz_map</a></code> - Full function documentation</li>
<li>
<code><a href="../articles/heatmap_vignette.html">vignette("heatmap_vignette")</a></code> - For non-geographic
grids</li>
<li>
<code><a href="../articles/content-collections.html">vignette("content-collections")</a></code> - For dashboard
integration</li>
</ul>
</div>
<div class="section level2">
<h2 id="note-on-map-data">Note on Map Data<a class="anchor" aria-label="anchor" href="#note-on-map-data"></a>
</h2>
<p>Maps require the Highcharts Maps module, which is included with
dashboardr. The map geometries are loaded from Highcharts‚Äô CDN when the
dashboard is viewed. For offline use or custom boundaries, additional
configuration may be needed.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
